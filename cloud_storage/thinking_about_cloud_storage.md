####云存储解决什么问题？
先看一下传统的存储，比如我买了一台电脑，里面有一块硬盘，固定容量1T
* 如果我要存储的东西超过了1T，就只能换个更大的硬盘，换硬盘的过程持续时间长，并且换盘的过程中没办法再用电脑
* 万一硬盘坏了怎么办？数据就完蛋了
* 为了随时能访问硬盘中的文件，到哪里我都得抱着电脑

对于公司来说，数据量更大，单机存储容量远远不能满足需求，对上面几个问题更敏感。

云存储正是为了解决上述问题而诞生的，他首先要解决的问题就是：
* 数据不能丢失
* 容量扩展很方便，且无上限
* 访问方式多样，在哪里都能访问到里面的数据
* 速度要快

####谁需要云存储？
* 普通用户： 拍了好多照片，都很珍贵，为了避免丢失，正在考虑在多台电脑上都保留一份，但是，
    * 家里只有一台电脑怎么办？难道为了照片的事情再去买台电脑或者移动硬盘吗？
    * 每次有新照片后都要拷贝到多个地方，麻烦，还容易漏拷。
    * 家里来贼了或者火灾了怎么办？
    * 数据越来越多，一块硬盘放不下了怎么办？
    
  如果有一个访问速度快，容量大，价格便宜的靠谱的网盘就好了。

* 互联网公司（Apple，豌豆荚，优酷等）： 需要存储很多客户的数据，如照片、视频啥的，并且客户需要随时随地能访问到这些数据。为了解决这些问题，需要：
    * 买设备，建机房或者托管
    * 为了满足不同网络的用户需求，机房需要支持不同的运营商（电信、联通等）网络
    * 要专门的人管这些设备，出问题了要及时的处理
    * 要保证性能能跟得上
    * 业务在不停的增长，需要的容量也在不断的上升，原来规划的容量不够用了，需要不停的扩展
    * 要保证设备或者磁盘挂了不影响正常的业务
    * 要保证设备或者磁盘挂了不造成数据丢失
    * 其他很多琐碎的事情
    
    可问题是：
    * 对于小公司，根本没资源和能力做这些事情。
    * 对于中型公司,有自己的开发团队，但要达到这样的目标也不容易，完成这部分工作有时比完成自己的主要业务还难。
    * 对于大型公司,有自己强大的开发团队，但存储不是公司的主营业务，也不想在这方面耗费太多的资源。
    
    如果有一个能在公网上提供存储服务的系统就好了，只要价格在能接受的范围内。
    
* 传统公司（银行、交通部门、医院等）： 需要存储很多私有数据，这些数据只是在公司内部能访问到。为了解决这些问题，需要：
    * 建机房，买设备
    * 要专门的人管这些设备，出问题了要及时的处理
    * 要保证性能能跟得上需求
    * 要解决单机容量有限的问题，做到动态扩展
    * 要保证设备或者磁盘挂了不影响正常的业务
    * 要保证设备或者磁盘挂了不造成数据丢失
    
    这类公司没有专业的开发和维护团队，根本不可能完成这项工作，他们需要的是私有云提供商帮他们搞定这些事情，他们负责机房相关工作就可以了。

####谁提供云存储？

* 公有云提供商（七牛， Amazon， 阿里云等）， 他们自己建（租）机房，铺（租）线路，自己开发云存储软件，买存储设备，搭建自己的云存储系统。然后提供统一的接口给开发人员使用。
* 公有云提供商（电信公司），他们的优势是有自己的机房和线路，缺点是没有软件研发能力，也没有软件系统维护能力。 于是他们使用第三方的软件（私有云提供商），并委托第三方的团队来组建和维护云存储系统。
* 私用云提供商（华为,EMC等），有云存储软件，也有存储硬件，主要卖给需要搭建云存储的厂商（比如银行，电信公司等）。

####什么样的云存储才是好的云存储？
* 普通使用者的角度（大众, 通常是间接使用）：
    * 一天24小时可用
    * 速度快
    * 数据安全可靠（不会被第三者看到，不会丢失）
    * 客户端易用
    * 价格便宜
* 软件开发者的角度（Dropbox， 豌豆荚等）： 软件开发者一般是为了满足自己或者客户的需求
    * 功能丰富 （如支持版本系统，搭建静态网站，支持CDN加速等）
    * API易用
    * 访问方式多样（RESTful， NFS, CIFS等）
    * 稳定，安全可靠，速度快，便宜
* 云存储系统搭建和维护者的角度（公有云或者私有云）：
    * 硬件要稳定，磁盘损坏率不要太高（太高意味着更高的维护成本和更高的数据丢失可能性）
    * 软件要稳定，不要动不动系统不可用。
    * 易用。
        * 要有系统宏观状态数据，便于根据系统情况进行调整（如根据容量使用趋势及时扩容， 根据线路拥堵情况调整线路）
        * 调整方便（如扩容，替换设备）
        * 丰富的告警系统，对系统的任何异常及时报出来
        * 磁盘坏掉后要能有很好的办法进行处理（如自动检索系统，把坏盘中的数据再复制一份放到系统中； 或者使用一块新盘替换掉原来的坏盘，如果坏一块盘就去一次机房，成本很高，最好能做到在没有风险的情况下尽可能的少去机房，也就是可能等坏了几块盘之后再去机房统一换一次）
        * 设备坏掉后要能很方便的恢复。  
    * 节约成本。
        * 是否不需要存储3份备份，就能达到很高的耐久性（99.999999999%），若能节省1/3的空间，对于云存储系统来说，是非常可观的。
    * 升级方便，不会影响正常使用 （软件系统升级，硬件系统升级）

上面前两类人不关心云存储的内部实现。 而后一种非常关注内部实现原理。

####公有云和私有云各自的特点？
* 公有云： 
    * 规模大。
    * 专业团队维护，内部细节对外不可见，只要专业人员能hold住，很多问题都不是问题，对外好忽悠。
    * 客户数据特点多样化，不好做针对性的优化
    * 网络环境差，需要做很多这方面的优化。
* 私有云：
    * 高度可订制
        * 有些客户的数据比较大，但又需要较短的响应速度； 
        * 有些用户的数据不经常访问，需要压缩存储。
        * 有些用户需要像访问文件系统一样访问存储系统
        * 有些用户觉得有些数据不是很重要，保存两份就够了，有些数据很重要，需要保存三份。
    * 客户维护能力弱，对软件的质量要求高 （假如卖给了100个用户，如果系统做的不好，客户天天找，相当于要维护100个云存储系统）
    * 受网络影响相对较小，于是对访问速度有更高要求。（用百度网盘10M的下载速度觉得很快了，但如果企业内部的私有云只有10M的速度，肯定要骂人了）


####云存储有哪些类型
* object storage

    提供key到value的访问方式， 如根据object id或者object name来访问云存储系统里面的数据。 如Openstack Swift, Amazon S3, Ceph.
* file system

    提供像文件系统一样的访问方式，如根据object id或者object name获取所有子目录信息。 如 Ceph.
* block storage 

    目前看到的都和虚拟机的image相关，没有深入了解。 如 Openstack Cinder, Ceph.
    
    
这里提到的访问方式指的是逻辑上的访问方式，底层的访问实现可以是RESTful、NFS、webservice等。

    
####网盘和常说的云存储有什么关系？

* 云存储面向开发人员，网盘面向最终用户。
* 云存储提供基本的存储服务，网盘是基于云存储开发的提供给最终用户的软件产品。 比如Dropbox使用的就是Amazon的S3， 百度网盘使用自家的云存储服务。 
* 网盘的服务质量跟底层的云存储息息相关，如果底层的云存储不稳定，经常丢失数据， 网盘也就不靠谱。

####云存储和常说的软件定义存储（SDS）有什么关系？
软件定义存储目前还没有统一的定义，大体思路是： 凡是能由软件来控制的地方，尽可能交由软件控制。
软件定义存储要比现有的常见云存储系统要更灵活，更加高度可订制。

以上就是我对云存储的一些看法，随着对云存储理解的深入，我会不时的更新该文档。
