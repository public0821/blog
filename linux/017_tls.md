# SSL/TLS概述

每次配置https或者tls时，都需要指定一些cacert，cert，key之类的东西，这些文件可以通过openssl命令生成，但他们的具体作用是什么呢？为什么配置了他们之后通信就安全了呢？

>不要担心，本篇不会介绍算法的细节（因为我也不会），只是站在使用者的角度来进行介绍

## SSL和TLS的关系

SSL的全称是Secure Sockets Layer，TLS的全称是Transport Layer Security，它们的关系就像windows XP和windows 7的关系，升级后改了个名字而已。下面这张表格列出了它们的历史：

| 协议 | 创建时间 | 创建者 |RFC|注释|
| :--- |  :--- |  :--- | :--- | :--- |
|SSL1.0 |n/a|Netscape |n/a|由于有很多安全问题，所以网景公司没有将它公之于众|
|SSL2.0 |1995|Netscape |n/a|这是第一个被公众所了解的SSL版本|
|SSL3.0 |1996|Netscape |[rfc6101](https://tools.ietf.org/html/rfc6101)|由于2.0还是被发现有很多安全问题，Netscape于是设计了3.0，并且IETF将它整理成RFC发布了出来|
|TLS1.0 |1999|IETF|[rfc2246](https://tools.ietf.org/html/rfc2246)|TLS 1.0基于SSL 3.0，修改不大，在某些场合也会被称之为SSL 3.1，改名主要是为了和Netscape撇清关系，表示一个新时代的来临，类似于改朝换代，东西没变，只是换了个皇帝|
|TLS1.1 |2006|IETF|[rfc4346](https://tools.ietf.org/html/rfc4346)||
|TLS1.2 |2008|IETF|[rfc5246](https://tools.ietf.org/html/rfc5246)||
|TLS1.3 |TBD|IETF|TBD|还在开发过程中|

## 加密相关的概念
在正式开始介绍TLS之前，先澄清一些跟加密相关的概念：
#### 对称加密
#### 非对称加密
#### 摘要算法
#### 数字签名

## TLS握手过程
TLS主要包含两部分协议，一部分是Record Protocol，描述了数据的格式，另一部分是Handshaking Protocols，描述了握手过程，本篇中只介绍握手过程，不介绍具体的通信数据格式。先看握手的交互图：

## 常见问题
配置好了之后还是连不上，一般会是下面几种问题：

* 版本不一致，有一方的版本太低，另一方为了安全不同意跟它通信
* 无法就cipher suite达成一致，有一方支持的加密算法太弱，安全程度不够
* 服务器端需要验证客户端的证书，而客户端没有配置

>注意，SSH和SSL/TLS是两个不同的协议，SSH并不依赖于SSL/TLS

## 参考
[Transport Layer Security](https://en.wikipedia.org/wiki/Transport_Layer_Security)